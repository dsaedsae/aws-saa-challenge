# AWS SAA-C03 합격 챌린지 - Day 20

## Day 20 과제 ― 최종 점검, Well-Architected 아키텍처 설계 (제출 기한: 2025년 7월 29일 23:59 KST)

### 1. 오늘의 목표
- 지금까지 배운 개별 서비스(VPC, EC2, ALB, ASG, RDS, S3, CloudFront 등)를 유기적으로 연결하여 완전한 아키텍처를 구성할 수 있다.
- 고가용성, 확장성, 보안, 성능 등 Well-Architected Framework의 원칙을 설계에 반영할 수 있다.
- 주어진 요구사항에 맞춰 어떤 AWS 서비스를 선택하고 어떻게 구성해야 할지 설명할 수 있다.

### 2. 최종 시나리오 (Key Scenario)
당신은 한 스타트업의 AWS 솔루션스 아키텍트입니다. 회사는 곧 정식 서비스를 런칭할 예정이며, 아래의 요구사항을 모두 만족하는 안정적이고 확장 가능한 웹 애플리케이션 인프라를 구축해달라고 요청했습니다. 당신의 임무는 지난 19일간 배운 모든 지식을 총동원하여 아래의 목표 아키텍처를 설계하고, 각 구성 요소가 어떤 역할을 하는지 설명하는 것입니다.

### 3. 요구사항 및 목표 아키텍처
- **고가용성**: 하나의 가용 영역(AZ)에 장애가 발생해도 서비스는 중단 없이 계속되어야 합니다.
- **확장성**: 트래픽이 증가하면 웹 서버의 수가 자동으로 늘어나고, 트래픽이 감소하면 다시 자동으로 줄어들어야 합니다.
- **보안**:
    - 웹 서버는 인터넷에서 직접 접근할 수 없어야 합니다.
    - 데이터베이스는 외부에서 절대 접근할 수 없도록 가장 안전한 네트워크에 위치해야 합니다.
    - 일반적인 웹 공격(SQL 인젝션 등)으로부터 애플리케이션을 보호해야 합니다.
- **성능**: 전 세계 사용자들이 이미지와 같은 정적 콘텐츠를 빠르게 로딩할 수 있어야 합니다.
- **관리**: `www.my-startup.com` 같은 사용자 친화적인 도메인으로 서비스에 접속할 수 있어야 합니다.

### 4. 오늘의 과제 (week3/day20/ 폴더)
오늘은 직접 리소스를 생성하는 대신, `summary.md` 파일에 위 아키텍처를 어떻게 구축할 것인지 '설계도'를 작성하는 것이 과제입니다. 아래 각 항목에 대해 어떤 AWS 서비스를 사용할 것이며, 왜 그렇게 구성했는지 설명해 보세요.

- **① 네트워크 설계**: 위 요구사항을 만족시키기 위해 VPC, 서브넷(퍼블릭/프라이빗), 라우팅 테이블, 인터넷 게이트웨이, NAT 게이트웨이를 어떻게 구성할 것인지 설명해주세요. 
- **② 애플리케이션 계층 설계**: 고가용성과 확장성을 위해 ALB, 오토 스케일링 그룹, EC2 인스턴스, 보안 그룹을 어떻게 구성하고 연결할 것인지 설명해주세요. 
- **③ 데이터 계층 설계**: 데이터베이스의 고가용성과 보안을 위해 RDS를 어떻게 구성(예: 다중 AZ)하고, 어떤 서브넷과 보안 그룹에 배치할 것인지 설명해주세요. 
- **④ 엣지 및 보안 설계**: 성능과 보안 강화를 위해 Route 53, CloudFront, WAF를 어떻게 구성하고 기존 아키텍처와 연동할 것인지 설명해주세요.

### 5. 진행 방식
지난 19일간의 학습 내용을 모두 복습하며 자신만의 아키텍처 설계 문서를 만들어 보세요. 각 서비스를 왜 선택했는지, 설정의 이유는 무엇인지 고민하는 과정 자체가 최고의 SAA 시험 준비가 될 것입니다.
설계 중 막히는 부분이 있다면, 저에게 "Senior Architect에게 질문합니다" 라는 느낌으로 편하게 물어보세요. 함께 고민해 드리겠습니다.

---
---

## Well-Architected 아키텍처 설계 요약

### 네트워크 구성도 (텍스트 기반)
```
          [ 전 세계 사용자 ]
                |
     +-------+  |  +-----------+
     | Route 53|<-+->|    WAF    |
     +-------+  |  +-----------+
         |      |       |
         | (DNS)|       | (Firewall)
         v      |       v
      +-----------+     |
      | CloudFront|-----+ (CDN)
      +-----------+
                |
                | (Traffic)
  +-------------------------------------+
  |          VPC (우리 회사만의 건물)         |
  |  +---------------------------------+  |
  |  |      Public Subnet (1층 로비)     |  |
  |  |          +---------+           |  |
  |  |          |   ALB   | (안내 데스크) |  |
  |  |          +---------+           |  |
  |  +---------------------------------+  |
  |  +---------------------------------+  |
  |  |     Private Subnet (보안 구역)    |  |
  |  |    +-----+ +-----+ +-----+      |  |
  |  |    | EC2 | | EC2 | | EC2 | ...  |  | (Auto Scaling Group으로 관리되는 직원들)
  |  |    +-----+ +-----+ +-----+      |  |
  |  |        |       |               |  |
  |  |        +-------+---------------+  |
  |  |                | (DB 접속)        |  |
  |  |          +---------+           |  |
  |  |          |   RDS   | (최고급 금고) |  |
  |  |          +---------+           |  |
  |  +---------------------------------+  |
  +-------------------------------------+
```

---

### ① 네트워크 설계: 격리된 서비스 기반 구축

**VPC(Virtual Private Cloud)**는 AWS 클라우드 내에 논리적으로 격리된 나만의 가상 네트워크 공간을 만드는 서비스다. 이는 마치 디지털 세상에 우리 회사만의 **'독립된 건물'**을 짓는 것과 같다.

-   **서브넷 (Subnets)**: 건물의 '층'을 나누는 개념이다.
    -   **Public Subnet**: 누구나 드나들 수 있는 '1층 로비'와 같다. 외부 사용자를 맞이하는 로드밸런서(ALB)를 이곳에 배치한다.
    -   **Private Subnet**: 직원만 출입할 수 있는 '보안 구역'이다. 핵심 자산인 웹 서버(EC2)와 데이터베이스(RDS)를 이곳에 배치하여 보호한다.
-   **게이트웨이 (Gateways)**: 건물의 '출입문' 역할을 한다.
    -   **인터넷 게이트웨이 (IGW)**: 외부 인터넷과 연결되는 건물의 '정문'이다.
    -   **NAT 게이트웨이**: 내부 직원(EC2)이 잠시 밖에 나갔다 올 수 있게 해주는 '직원 전용 후문'이다. 밖에서는 이 문으로 들어올 수 없다.

---

### ② 애플리케이션 계층 설계: 자동화된 탄력성 확보

네트워크 기반 위에 실제 애플리케이션이 동작하는 환경을 구축했다. 핵심은 **'자동화'**와 **'분산'**이다.

-   **ALB (Application Load Balancer)**: 모든 요청을 가장 먼저 받는 **'친절한 안내 데스크'** 역할을 한다. 여러 명의 직원(EC2) 중 가장 한가한 직원에게 일을 분배해주고, 아픈 직원은 알아서 제외한다.
-   **ASG (Auto Scaling Group)**: 직원들을 관리하는 **'유능한 매니저'**다. 일이 몰리면(트래픽 증가) 새 직원을 즉시 채용(Scale-out)하고, 일이 줄어들면 직원을 퇴근(Scale-in)시켜 인건비(비용)를 절약한다. 직원이 갑자기 쓰러져도(장애) 바로 새 직원을 투입해 업무 공백을 막는다.
-   **보안 그룹 (Security Groups)**: 정교한 **'출입증 시스템'**이다. `EC2 보안 그룹`은 '안내 데스크(ALB)를 통해서만 출입 가능'이라는 규칙을 설정하여, 허가되지 않은 모든 직접적인 접근을 차단한다.

---

### ③ 데이터 계층 설계: 안전한 데이터 저장소

가장 중요한 자산인 데이터를 보관하는 금고를 설계했다. 직접 금고를 만드는 대신, 전문 업체의 서비스를 이용했다.

-   **RDS (Relational Database Service)**: AWS가 직접 운영해주는 **'호텔의 최고급 금고 서비스'**와 같다. 우리는 복잡한 금고 관리(설치, 패치, 백업)에 신경 쓸 필요 없이 내용물(데이터)에만 집중하면 된다.
-   **다중 AZ (Multi-AZ)**: 만일의 사태에 대비해, 다른 건물에 **'실시간으로 복제되는 예비 금고'**를 하나 더 두는 것이다. 주 금고에 문제가 생기면 즉시 예비 금고로 전환되어 데이터 유실 없이 서비스를 계속할 수 있다.
-   **RDS 보안 그룹**: 이 금고는 **'EC2 직원 출입증'**을 가진 사람만 열 수 있는 특수 잠금장치가 달려있다. 다른 어떤 출입증으로도 열 수 없어 최고의 보안을 자랑한다.

---

### ④ 엣지 및 보안 설계: 성능과 방어

사용자 경험을 극대화하고 외부의 위협으로부터 서비스를 보호하기 위해 최전방 방어선을 구축했다.

-   **CloudFront**: 전 세계에 지점을 둔 **'글로벌 물류 창고'**다. 이미지 같은 파일을 사용자와 가장 가까운 창고에 미리 가져다 놓아, 로켓 배송처럼 빠르게 전달한다.
-   **WAF (Web Application Firewall)**: 물류 창고 입구의 **'깐깐한 보안 검색대'**다. 들어오는 모든 소포(트래픽)를 검사해서 위험한 물건(SQL 인젝션 등 웹 공격)을 사전에 걸러낸다.
-   **Route 53**: `www.my-startup.com` 과 같은 도메인 이름을 사용하는 **'간판'**을 달아주는 역할이다. 사용자가 간판을 보고 쉽게 찾아올 수 있도록 한다.

---

### ⑤ 느낀 점

솔직히 그동안 VPC, EC2, RDS 같이 서비스를 따로 배울 땐 이게 어떻게 합쳐지는지 감이 잘 안 왔다. 그런데 오늘 직접 3티어 아키텍처를 설계해보니, 왜 Private 서브넷으로 서버를 감싸야 하는지, 왜 ALB와 ASG가 한 세트처럼 움직이는지가 명확해졌다. 특히 보안 그룹을 소스로 지정해서 'ALB → EC2 → RDS'로 이어지는 접근 제어 체인을 만드는 게 가장 인상 깊었다.

이론으로만 알던 '심층 방어'나 '고가용성' 같은 개념을 실제 서비스로 구현하는 방법을 알게 돼서, 앞으로 보안 직무를 공부하는 데 큰 그림을 그릴 수 있게 된 것 같다. 단순히 서비스를 아는 것과, 그걸 엮어서 솔루션을 만드는 건 완전히 다른 차원의 이야기라는 걸 느꼈다.