## Day 21 과제 ― VPC 네트워킹 심화, VPC Peering vs Transit Gateway 

### 1. 오늘의 목표
- VPC Peering을 사용하여 두 개의 VPC를 비공개로 직접 연결할 수 있다.
- VPC Peering의 **확장성 한계(메시 구조)**를 이해한다.
- AWS Transit Gateway가 어떻게 여러 VPC와 온프레미스 네트워크를 중앙 허브에 연결하여 관리를 단순화하는지 설명할 수 있다.
- 어떤 시나리오에 VPC Peering이 적합하고, 어떤 시나리오에 Transit Gateway가 적합한지 구분할 수 있다.

### 2. 핵심 시나리오 (Key Scenario)
회사의 규모가 커지면서, 개발팀의 VPC, 운영팀의 VPC, 데이터 분석팀의 VPC 등 여러 개의 VPC가 생겨났습니다. 이제 개발팀의 서버가 데이터 분석팀의 데이터베이스에 접근해야 하고, 운영팀의 서버는 개발팀의 리소스에 접근해야 하는 등 VPC 간의 복잡한 통신 요구사항이 발생했습니다. 당신의 임무는 "이 VPC들을 서로 안전하게 연결하는 방법을 구현하고, 앞으로 VPC가 50개, 100개로 늘어나더라도 관리가 가능한 확장성 있는 네트워크 아키텍처"를 비교 분석하는 것입니다.

### 3. 실습 단계 (Hands-on Steps)
- **Part 1: VPC Peering 설정**
- **Part 2: AWS Transit Gateway 개념 학습**
- **Part 3: 리소스 정리**

### 4. 오늘의 과제 (week3/day21/ 폴더)
`summary.md` 파일에 아래 각 항목에 대해 어떤 AWS 서비스를 사용할 것이며, 왜 그렇게 구성했는지 설명해 보세요.
- **① VPC Peering의 특징**: VPC Peering은 어떤 방식으로 동작하며, 어떤 장점과 단점을 가지나요? 특히 VPC가 3개 이상일 때 어떤 문제가 발생하는지 설명해보세요. 
- **② Transit Gateway의 역할**: Transit Gateway는 VPC Peering의 어떤 문제를 해결해주나요? '허브 앤 스포크(Hub-and-Spoke)' 모델 관점에서 설명해보세요. 
- **③ 언제 무엇을 사용할까?**: VPC Peering과 Transit Gateway 중 어떤 것을 선택할지 결정하는 가장 중요한 기준은 무엇일까요? 비용, 규모, 관리 복잡성 측면에서 설명해보세요. 
- **④ 느낀 점**: (최소 3줄 이상)

---
---

## Day 21 학습 요약: VPC 네트워킹 심화

### ① VPC Peering의 특징

**VPC Peering**은 두 개의 VPC를 1:1로 직접 비공개 연결하는 기술입니다. 마치 두 건물 사이에 **'개인 전용 다리'**를 놓는 것과 같습니다.

-   **장점**:
    -   **단순함**: 연결할 VPC가 2개뿐일 때는 설정이 매우 직관적이고 간단합니다.
    -   **비용 효율**: 연결 자체에 대한 시간당 요금이 없고, 데이터 전송 비용만 발생하여 소규모 환경에서는 저렴합니다.
-   **단점 (문제점)**:
    -   **전이 라우팅(Transitive Routing) 불가**: A-B, B-C가 연결되어 있어도 A와 C는 서로 통신할 수 없습니다. C와 통신하려면 A-C를 별도로 연결해야 합니다.
    -   **관리의 복잡성 (메시 구조)**: 이 때문에 VPC가 3개 이상이 되면 문제가 발생합니다. 모든 VPC가 서로 통신하려면 각 VPC를 모두 1:1로 연결하는 복잡한 **'스파게티' 또는 '풀 메시(Full-Mesh)' 구조**가 되어야 합니다. VPC가 5개만 되어도 관리해야 할 피어링 연결은 10개나 됩니다.



---

### ② Transit Gateway의 역할

**Transit Gateway**는 VPC Peering의 **'메시 구조' 문제를 해결**하기 위해 등장했습니다. 이는 **'허브 앤 스포크(Hub-and-Spoke)'** 모델을 사용하여 네트워크를 중앙에서 관리합니다.

-   **허브 앤 스포크 모델**: Transit Gateway가 **'중앙 환승 터미널(Hub)'** 역할을 하고, 각각의 VPC들은 이 터미널에 연결되는 **'노선(Spoke)'**이 됩니다.
-   **단순화된 관리**: 각 VPC는 다른 VPC와 일일이 연결할 필요 없이, 오직 중앙의 Transit Gateway 허브에 **단 한 번만 연결**하면 됩니다. 그 후, "모든 외부 통신은 터미널로 보내라"는 라우팅 규칙 하나만 추가하면, 터미널이 알아서 목적지 노선으로 트래픽을 전달해 줍니다. 이로 인해 VPC가 수십, 수백 개로 늘어나도 관리 구조가 복잡해지지 않습니다.



---

### ③ 언제 무엇을 사용할까?

두 서비스 중 무엇을 선택할지는 **규모, 관리 복잡성, 비용** 세 가지 기준에 따라 결정됩니다.

| 기준 | VPC Peering 추천 | Transit Gateway 추천 |
| :--- | :--- | :--- |
| **규모** | 연결할 VPC가 **소수(10개 미만)**이고, 앞으로 크게 늘어날 계획이 없을 때 | 연결할 VPC가 **다수**이거나, 온프레미스 네트워크까지 연결하는 등 **지속적인 확장이 예상**될 때 |
| **관리 복잡성** | 1:1 연결만 필요한 단순한 구조일 때 | 모든 네트워크 트래픽을 **중앙에서 제어하고 모니터링**하고 싶을 때 |
| **비용** | 시간당 고정 비용 없이, 데이터 전송량 기반의 **저렴한 비용이 최우선**일 때 | 시간당 비용이 발생하더라도, 장기적인 **운영 효율성과 관리 시간 절약이 더 중요**할 때 |

---

### ④ 느낀 점

처음 VPC 피어링 실습을 할 때는 이게 더 직관적이고 쉽다고 생각했다. 하지만 VPC가 3개만 되어도 왜 '스파게티' 구조가 되는지, 그리고 Transit Gateway의 '허브 앤 스포크' 모델이 왜 필요한지 명확히 이해할 수 있었다. 단순히 '연결'하는 것을 넘어, 미래의 확장성과 관리 효율성까지 고려하는 것이 좋은 아키텍처의 시작이라는 것을 깨달았다.