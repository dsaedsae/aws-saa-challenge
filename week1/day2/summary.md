# Day 2: EC2 & Web Server Hands-on 요약

## 1. 콘솔 vs CLI

직접 두 방식을 체험해보니, 각각의 장단점과 사용 환경이 명확하게 느껴졌습니다.

* **콘솔(Console)의 장점:** 시각적이어서 AWS 서비스의 구조와 각 요소(VPC, 보안 그룹, 키 페어 등)가 어떻게 연결되는지 직관적으로 파악하기 쉽습니다. 처음 서비스를 배울 때나, 복잡한 구성의 리소스를 일회성으로 생성할 때 유리합니다.
* **CLI(Command Line Interface)의 장점:** 반복적인 작업을 자동화하는 데 압도적으로 효율적입니다. 스크립트를 작성하여 수십, 수백 개의 서버를 동일한 설정으로 한 번에 생성할 수 있으며, 모든 작업 기록이 코드로 남아 관리가 용이합니다.
* **결론:** **처음 배울 땐 콘솔**로 개념을 익히고, **익숙해진 후엔 CLI**로 작업을 자동화하고 효율화하는 것이 가장 이상적인 방식이라고 생각합니다.

## 2. 보안 그룹의 '상태 저장(Stateful)' 특성

인바운드(Inbound) 규칙에서 SSH(22번)와 HTTP(80번) 포트만 허용했는데도 서버의 응답이 내 PC로 돌아올 수 있었던 이유는, 보안 그룹이 **'상태 저장(Stateful)'** 방식으로 동작하기 때문입니다.

이는 마치 아파트 경비실과 같습니다. 제가 정상적으로 초인종을 누르고(Inbound 요청) 집주인이 문을 열어주면, 제가 집에서 나갈 때(Outbound 응답)는 경비원이 제 얼굴을 기억하고 별도의 확인 절차 없이 내보내 줍니다.

즉, **정상적인 인바운드 요청에 대한 응답 트래픽은 아웃바운드 규칙을 별도로 설정하지 않아도 자동으로 허용**됩니다. 보안 그룹이 한 번 허용된 연결(세션)을 기억하고 있기 때문입니다. 이것이 '상태 저장'의 핵심 개념입니다.

## 3. User Data의 중요성

만약 100대의 서버에 동일한 웹 서버를 설치해야 한다면, User Data 사용은 선택이 아닌 **필수**입니다.

100대의 서버에 일일이 SSH로 접속하여 웹 서버 설치 명령어를 입력하는 것은 엄청난 시간 낭비이며, 과정 중에 실수가 발생할 확률이 매우 높습니다.

User Data에 설치 스크립트를 미리 작성해두면, 100대의 인스턴스를 시작할 때 **모든 서버가 부팅과 동시에 자동으로 동일한 환경 구성을 완료**합니다. 이는 **확장성(Scalability)**과 **일관성(Consistency)**을 보장하는 클라우드 자동화의 핵심적인 기능입니다.

## 4. 느낀 점

어제 IAM이 클라우드의 '규칙'을 배우는 것이었다면, 오늘은 EC2를 통해 '집'을 짓는 경험이었습니다. 키 페어(열쇠), 보안 그룹(방화벽), User Data(초기 인테리어) 등 각 요소가 어떤 역할을 하는지 직접 설정하고 눈으로 결과를 확인하니 개념이 명확하게 잡혔습니다.

특히 IP 주소로 제가 만든 웹 페이지에 접속했을 때의 경험은 매우 인상 깊었습니다. 복잡해 보였던 클라우드 서버 구축 과정이 생각보다 논리적이고 체계적이라는 것을 느꼈고, CLI를 통해 이 모든 과정을 코드로 자동화할 수 있다는 사실에 클라우드의 강력함을 다시 한번 체감했습니다.

상태 확인 명령어 : aws ec2 describe-instances --filters "Name=tag:Name,Values=my-web-server"

리소스 정리 : aws ec2 terminate-instances --instance-ids [여기에_인스턴스_ID]