 # Day 4: 고가용성의 시작, ELB 요약

## 1. 왜 다른 AZ에 배포해야 하는가?
두 EC2 인스턴스를 서로 다른 가용 영역(AZ, Availability Zone)에 배치하는 것은 **고가용성**의 가장 기본이 되는 원칙입니다. AZ는 물리적으로 분리된 하나 이상의 데이터 센터를 의미합니다.

만약 두 인스턴스를 같은 AZ에 두었다면, 해당 AZ 전체에 정전이나 네트워크 장애 등 물리적인 문제가 발생했을 때 두 서버가 동시에 다운되어 서비스 전체가 중단됩니다.

하지만 **서로 다른 AZ에 인스턴스를 분산**하면, 하나의 AZ에 문제가 생겨도 다른 AZ에 있는 인스턴스가 계속해서 서비스를 제공할 수 있습니다. 로드 밸런서는 이 상황을 자동으로 감지하고 건강한 인스턴스로만 트래픽을 보내 서비스 중단을 막습니다.

## 2. ALB의 3요소: 리스너, 규칙, 대상 그룹
Application Load Balancer(ALB)는 세 가지 핵심 요소가 함께 동작하여 트래픽을 처리합니다.

* **리스너(Listener):** 지정된 포트(예: HTTP 80)로 들어오는 사용자 요청을 가장 먼저 받는 관문입니다.
* **규칙(Rule):** 리스너가 받은 요청의 내용(URL 경로, 헤더 등)을 보고 어디로 보낼지 결정하는 조건입니다.
* **대상 그룹(Target Group):** 규칙에 따라 분류된 트래픽이 최종적으로 전달될 대상(EC2 인스턴스 등)들의 묶음입니다.

즉, **리스너**가 요청을 받고, **규칙**이 트래픽을 분석하여, 적절한 **대상 그룹**으로 전달하는 흐름으로 동작합니다.

## 3. 상태 확인(Health Check)의 역할
상태 확인은 로드 밸런서가 **대상 그룹의 서버들이 실제로 건강하게 일하고 있는지 주기적으로 체크**하는 매우 중요한 기능입니다.

이 기능이 없다면 로드 밸런서는 서버 한 대가 다운되어도 그 사실을 모르고 계속 사용자 요청을 보내게 됩니다. 그 결과 사용자들은 접속 오류를 반복적으로 경험하게 됩니다. 상태 확인은 이렇게 **아픈 서버를 트래픽 분산 대상에서 자동으로 제외**하여 서비스 안정성을 보장하는 핵심 기능입니다.

## 4. 느낀 점
오늘은 처음으로 '아키텍처'라는 그림을 그려본 기분이었습니다. 여러 서버와 로드 밸런서를 조합하여 장애가 발생해도 끊기지 않는 서비스를 구축하는 과정이 매우 흥미로웠습니다.

특히 실습 중 발생한 네트워크 연결 문제를 해결하는 과정에서, 이론으로만 알던 보안 그룹, 네트워크 ACL, 라우팅 테이블의 관계와 중요성을 몸으로 체감할 수 있었습니다. 문제 해결 과정 자체가 정말 값진 경험이 되었고, 클라우드 인프라의 탄력성과 고가용성의 원리를 더 깊이 이해하게 된 것 같아 뿌듯합니다.