# Day 9 학습 요약: 공유 파일 시스템, EFS

## ① EBS vs S3 vs EFS

AWS의 3대 스토리지는 각각 블록, 객체, 파일이라는 다른 유형을 가지며 사용 사례가 명확히 구분됩니다.

-   **EBS (Elastic Block Store):** EC2 인스턴스에 연결하는 **'블록'** 스토리지로, **빠른 응답 속도**가 필요한 **운영체제(OS) 부팅 볼륨**이나 **데이터베이스**에 가장 적합합니다. **하나의 EC2 인스턴스에만 연결**하여 사용하는 것이 기본입니다.

-   **S3 (Simple Storage Service):** 인터넷을 통해 접근하는 **'객체'** 스토리지로, **무한대에 가까운 확장성**을 가집니다. **대용량 정적 파일(이미지, 동영상)의 저장, 데이터 백업 및 아카이빙, 데이터 레이크** 구성에 최적화되어 있습니다.

-   **EFS (Elastic File System):** 여러 EC2 인스턴스가 동시에 접근할 수 있는 **'파일'** 스토리지입니다. NFS 프로토콜을 사용하며, **다중 서버 환경에서의 파일 공유**가 필요할 때 사용됩니다. 웹 서버의 공통 콘텐츠나 사용자 업로드 파일을 관리하는 데 가장 적합합니다.

---

## ② EFS 성능 모드

EFS는 생성 시 워크로드에 맞춰 두 가지 성능 모드를 선택할 수 있습니다.

-   **범용 (General Purpose):** **지연 시간(Latency) 최소화**에 중점을 둔 기본 모드입니다. 웹사이트 호스팅, 콘텐츠 관리 시스템(CMS) 등 대부분의 일반적인 워크로드에 적합하며 응답 속도가 중요할 때 사용합니다.
-   **최대 I/O (Max I/O):** **처리량(Throughput) 극대화**에 중점을 둔 모드입니다. 데이터 분석, 미디어 처리 등 수백, 수천 개의 인스턴스가 동시에 대규모 데이터에 접근하는 고도의 병렬 작업에 적합합니다. 지연 시간은 범용 모드보다 약간 길어질 수 있습니다.

---

## ③ EFS 처리량 모드

EFS의 데이터 전송 속도를 결정하는 방식이며, 주로 '버스트'와 '프로비저닝' 중에서 선택합니다.

-   **버스트 (Bursting):** 기본 처리량 모드로, **파일 시스템에 저장된 데이터 양에 비례하여 성능이 결정**됩니다. 평소에는 기준 성능으로 작동하다가, 쌓아둔 '버스트 크레딧'을 사용해 순간적으로 더 높은 성능을 낼 수 있습니다. 트래픽이 일정하지 않고 가끔 급증하는 일반적인 워크로드에 비용 효율적입니다.
-   **프로비저닝 (Provisioned):** **저장된 데이터 양과 상관없이 사용자가 원하는 처리량(성능)을 미리 할당하고 그에 대한 비용을 지불**하는 방식입니다. 항상 높고 일관된 성능이 필요한 경우, 예를 들어 대규모 데이터 마이그레이션이나 프로덕션 환경의 중요한 애플리케이션을 실행할 때 선택해야 합니다.

---

## ④ 느낀 점

오늘은 여러 EC2 인스턴스가 데이터를 공유하는 EFS를 배우며 드디어 스토리지 3대장을 모두 경험했다. EBS는 1:1, EFS는 다대일 연결이라는 점이 가장 큰 차이점으로 와닿았다. 특히 여러 웹 서버가 사용자가 올린 파일을 공유하는 시나리오는 실무에서 반드시 마주칠 문제인데, EFS가 이를 얼마나 간단하게 해결해 주는지 알 수 있었다.

성능 테스트를 통해 EFS의 처리량 한계치가 저장된 데이터 양에 따라 자동으로 상향 조정되는 것을 직접 확인한 것이 인상 깊었다. 이는 단순히 스토리지를 제공하는 것을 넘어, 워크로드에 맞게 성능까지 탄력적으로 관리해주는 클라우드의 장점을 명확히 보여주는 경험이었다. 이제 어떤 상황에 어떤 스토리지를 선택해야 할지 명확한 기준을 세울 수 있게 된 것 같다.