# Day 11 학습 요약: 안전한 권한 위임, IAM 역할(Role)

## ① IAM User vs Role

IAM 사용자(User)와 IAM 역할(Role)은 둘 다 권한을 부여하는 주체이지만, 사용 대상과 자격 증명의 성격에서 근본적인 차이가 있습니다.

-   **IAM 사용자 (User):** **사람**을 위한 것입니다. AWS 콘솔에 로그인하거나 CLI를 사용하는 개발자, 관리자 등 **특정 개인**에게 부여됩니다. 한 번 발급되면 계속 유지되는 **영구적인 자격 증명(액세스 키, 암호)**을 가집니다.

-   **IAM 역할 (Role):** **AWS 서비스(EC2, Lambda 등)**를 위한 것입니다. 특정 서비스가 다른 서비스의 리소스에 접근해야 할 때 사용됩니다. 역할은 필요할 때마다 동적으로 생성되고 자동으로 교체되는 **임시 자격 증명**을 사용하므로, 액세스 키를 직접 관리할 필요가 없어 훨씬 안전합니다.

## ② 최소 권한 원칙

**최소 권한 원칙(Principle of Least Privilege)**은 보안의 가장 기본이 되는 원칙으로, 특정 주체(사용자, 역할 등)에게 **자신의 작업을 수행하는 데 필요한 최소한의 권한만**을 부여하는 것을 의미합니다.

오늘 실습에서는 EC2 인스턴스가 S3의 파일을 읽기만 하면 되므로, 모든 권한을 의미하는 `s3:*` 대신 오직 파일을 읽는 권한인 **`s3:GetObject`** 액션만 정책에 명시적으로 허용했습니다. 이렇게 하면, 만약 이 역할의 권한이 어떤 이유로든 탈취되더라도 해커는 파일을 삭제(`s3:DeleteObject`)하거나 새로 쓸(`s3:PutObject`) 수 없어 피해를 최소화할 수 있습니다.

## ③ IAM 정책(Policy)의 3요소

IAM 정책은 '누가, 무엇을, 어떻게' 할 수 있는지를 정의하는 JSON 문서이며, 핵심 요소는 다음과 같습니다.

-   **Effect:** 해당 정책의 효과를 정의합니다. **`Allow`(허용)** 또는 **`Deny`(거부)** 두 가지 값만 가질 수 있습니다. 명시적인 `Deny`는 항상 `Allow`보다 우선합니다.
-   **Action:** 허용하거나 거부할 **작업(Operation)**을 명시합니다. 예를 들어 `s3:GetObject`는 S3 객체를 읽는 작업, `ec2:StartInstances`는 EC2 인스턴스를 시작하는 작업을 의미합니다.
-   **Resource:** 해당 작업이 적용될 **대상 AWS 리소스**를 ARN(Amazon Resource Name) 형식으로 지정합니다. 예를 들어 `arn:aws:s3:::my-bucket/*`은 `my-bucket`이라는 S3 버킷 안의 모든 객체를 의미합니다.

## ④ 느낀 점

오늘은 AWS 보안의 심장과도 같은 IAM을 깊이 있게 다루었다. 이전까지는 단순히 권한을 주는 기능으로만 생각했지만, User와 Role을 구분하고 Role을 통해 임시 자격 증명을 사용하는 것이 왜 중요한지 명확히 깨달았다. 특히 액세스 키를 EC2에 저장하는 방식과 IAM 역할을 사용하는 방식의 보안 수준 차이를 직접 테스트해보니, 왜 '액세스 키 하드코딩'이 최악의 보안 실천법으로 꼽히는지 몸으로 체감할 수 있었다.

JSON 정책을 직접 만들며 Effect, Action, Resource를 지정하는 과정은 AWS의 모든 서비스가 어떻게 이런 세분화된 권한 모델 위에서 상호작용하는지 이해하는 데 큰 도움이 되었다. 최소 권한 원칙에 따라 딱 필요한 `s3:GetObject` 권한만 부여하는 경험을 통해, 앞으로는 항상 '어디까지 허용할 것인가'가 아닌 '무엇을 허용해야만 하는가'를 먼저 생각하는 보안적인 사고방식을 길러야겠다고 다짐했다.